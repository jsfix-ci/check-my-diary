<% include ../helpers/helpers %>

<!DOCTYPE html>
<html lang="en" class="govuk-template">
<head>
  <% include ../partials/head %>
</head>
<body class="govuk-template__body">

<% include ../partials/header %>

<div class="govuk-width-container">

  <% include ../partials/alpha-banner %>

  <a href="/" class="govuk-back-link">Back</a>

  <main id="main-content" class="govuk-main-wrapper govuk-!-margin-bottom-8" role="main">

    <div class="grid-row">
      <div class="column-full">

        <h1 class="govuk-heading-l"><%= data.day %> <%= parseDate(data.date) %><% if (data.hasOwnProperty('events')) { %>, <%= data.location %><% } %></h1>

        <% if (data.type === 'work') { %>

          <% data.events.forEach(function(event){ %>

            <% if (event.type === 'work') { %>

              <ul class="app-shift-detail">

                <% event.detail.forEach(function(detail, index){ %>

                  <li class="<% if (index === 0) { %>detail-start<% } %>">
                    <span class="time"><%= detail.startTime %> - <%= detail.endTime %></span>
                    <span class="description">
                      <% if (index === 0) { %>Start location:
                      <% } %>
                      <%= detail.description %></span>
                    <span class="govuk-!-font-size-16"><%= detail.notes %></span>
                  </li>

                <% }); %>

                <li class="detail-finish">
                  <span class="time"><%= event.endTime %></span>
                  <span class="description">End of shift</span>
                </li>

              </ul>

            <% } %>

            <% if (event.type === 'holiday') { %>

              <ul class="font-medium">

                <li class="detail-holiday">
                  <span class="time"><%= event.startTime %> - <%= event.endTime %></span>
                  <span class="description">Holiday (part)</span>
                </li>

              </ul>

            <% } %>

          <% }); %>

        <% } %>

        <% if (data.type === 'holiday' || data.type === 'rest-day') { %>

          <ul class="font-medium">

            <li
              class="<% if (data.type === 'holiday') { %>detail-holiday<% } %><% if (data.type === 'rest-day') { %>detail-rest-day<% } %>">
              <span class="time">
                <% if (data.type === 'holiday') { %>Holiday
                <% } %>
                <% if (data.type === 'rest-day') { %>Rest day
                <% } %>
              </span>
              <span class="description">All day</span>
            </li>

          </ul>

        <% } %>

        <div class="govuk-clearfix"></div>

        <a id="btnNextShiftDetail" href="/details/<%= data.nextDate %>"
           class="govuk-link govuk-link--no-visited-state govuk-!-font-size-19"><%= getNextDay(data.day) %> <%= parseDate(data.nextDate) %> &rarr;</a>

      </div>
    </div>
  </main>

</div>

<% include ../partials/footer %>

</body>
</html>
